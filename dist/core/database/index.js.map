{"version":3,"sources":["../../../src/core/database/index.js"],"names":["mongoose","require","Promise","options","server","auto_reconnect","socketOptions","keepAlive","connectTimeoutMS","connect","process","on","connection","close","console","log","exit","module","exports","Track","model","User"],"mappings":"AAAA;;AAEA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;AACAD,SAASE,OAAT,GAAmBD,QAAQ,UAAR,CAAnB;;AAEA,IAAME,UAAU;AACdC,UAAQ;AACNC,oBAAgB,IADV;AAENC,mBAAe;AACbC,iBAAW,CADE;AAEbC,wBAAkB;AAFL;AAFT;AADM,CAAhB;;AAUAR,SAASS,OAAT,CAAiB,uBAAjB,EAA0CN,OAA1C;;AAEAO,QAAQC,EAAR,CAAW,QAAX,EAAqB,YAAY;AAC/BX,WAASY,UAAT,CAAoBC,KAApB,CAA0B,YAAY;AACpCC,YAAQC,GAAR,CAAY,0CAAZ;AACAL,YAAQM,IAAR,CAAa,CAAb;AACD,GAHD;AAID,CALD;;AAOAC,OAAOC,OAAP,GAAkB;AAChBC,SAAOlB,QAAQ,gBAAR,EAA0BmB,KADjB;AAEhBC,QAAMpB,QAAQ,eAAR,EAAyBmB;AAFf,CAAlB","file":"index.js","sourcesContent":["'use strict';\n\nconst mongoose = require('mongoose');\nmongoose.Promise = require('bluebird');\n\nconst options = {\n  server: {\n    auto_reconnect: true,\n    socketOptions: {\n      keepAlive: 1,\n      connectTimeoutMS: 300000\n    }\n  }\n};\n\nmongoose.connect('mongodb://mongodb/ykn', options);\n\nprocess.on('SIGINT', function () {\n  mongoose.connection.close(function () {\n    console.log('Mongoose disconnected on app termination');\n    process.exit(0);\n  });\n});\n\nmodule.exports  = {\n  Track: require('./models/track').model,\n  User: require('./models/user').model\n};\n"]}